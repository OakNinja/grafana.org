<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="Torkel Ödegaard" name="author" /><meta content="Grafana, the graphite dashboard frontend, editor and graph composer" name="description" /><meta content="Grafana,Graphite,Dashboard,Frontend,Metrics,Editor,Composer,InfluxDB" name="keywords" /><title>Grafana Docs - Scripted dashboards</title><link href="/assets/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700" media="screen" rel="stylesheet" type="text/css" /><link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" media="screen" rel="stylesheet" type="text/css" /><script src="/assets/javascripts/all.js" type="text/javascript"></script><meta content="Grafana - The Graphite dashboard frontend, editor and graph composer" property="og:title" /><meta content="Grafana.org" property="og:site_name" /><meta content="website" property="og:type" /><meta content="http://grafana.org" property="og:url" /><meta content="http://grafana.org/assets/img/edit_dashboards.png" property="og:image" /><meta content="A unique graphite dashboard aimed to be a general purpose dashboard that looks nice and makes it easy to construct and edit dashboards through the UI. It also contains an advanced and unique graph editor and graphite target expression / function editor. Other notible features are fast client side rendering, select to zoom in, multiple y-axes and graph templating." property="og:description" /></head><body class="docs docs_features docs_features_scripted_dashboards docs_features_scripted_dashboards_index"><section class="nav"><div class="row"><nav class="top-bar hide-for-small"><ul class="title-area"><li class="name"><a href="/"><img src="/assets/img/logo_transparent_200x75.png" width="150px" /></a></li></ul><li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li><section class="top-bar-section"><ul class="right"><li><a href="/features">Features</a></li><li><a href="/docs">Docs</a></li><li><a href="/blog">Blog</a></li><li><a target="blank" href="https://github.com/torkelo/grafana">Github project</a></li><li class="has-form"><a class="button" href="/download" id="top-bar-button">Download</a></li></ul></section></nav></div></section><section class="main"><div class="row"><div class="large-4 medium-4 columns"><div class="sidebar"><nav><ul class="side-nav"><li class="heading">Installation</li><li><a href="/docs">Installation</a></li><li><a href="/docs/performance">Performance</a></li><li><a href="/docs/support">Support</a></li><li class="divider"></li><li class="heading">Feature guides</li><li><a href="/docs/features/intro">Intro guide</a></li><li><a href="/docs/features/annotations">Annotations</a></li><li><a href="/docs/features/time_range">Time range controls</a></li><li><a href="/docs/features/search">Search features</a></li><li><a href="/docs/features/templated_dashboards">Templated dashboards</a></li><li><a href="/docs/features/scripted_dashboards">Scripted dashboards</a></li><li><a href="/docs/features/playlist">Playlist</a></li><li><a href="/docs/features/function_editor">Function editor</a></li><li><a href="/docs/features/influxdb">InfluxDB</a></li><li><a href="/docs/features/export_import">Export & Import</a></li><li class="divider"></li><li class="heading">Videos</li><li><a href="/docs/videos/feature_tour">Feature tour</a></li><li><a href="/docs/videos/function_editor">Function editor</a></li></ul></nav><a class="button download expand" href="/download" style="margin-bottom: 0;">Download Grafana</a></div></div><div class="large-8 medium-8 columns"><h1>Scripted Dashboards</h1>

<p>If you have lots of metric names that change (new servers etc) in a defined pattern it is irritating to constantly have to create new dashboards.</p>

<p>With scripted dashboards you can dynamically create your dashboards using javascript. In the folder grafana install folder <em>app/dashboards/</em> there is a file named <em>scripted.js</em>. This file contains an example of a scripted dashboard. You can access it by using the url:</p>

<blockquote>
<p>http://grafana_url/#/dashboard/script/scripted.js?rows=3&amp;name=myName</p>
</blockquote>

<p>If you open scripted.js you can see how it reads url paramters from ARGS variable and then adds rows and panels.</p>
<pre class="highlight javascript">
<span class="kd">var</span> <span class="nx">rows</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">seriesName</span> <span class="o">=</span> <span class="s1">&#39;argName&#39;</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">_</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">ARGS</span><span class="p">.</span><span class="nx">rows</span><span class="p">))</span> <span class="p">{</span>
  <span class="nx">rows</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">ARGS</span><span class="p">.</span><span class="nx">rows</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">_</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">ARGS</span><span class="p">.</span><span class="nx">name</span><span class="p">))</span> <span class="p">{</span>
  <span class="nx">seriesName</span> <span class="o">=</span> <span class="nx">ARGS</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">rows</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

  <span class="nx">dashboard</span><span class="p">.</span><span class="nx">rows</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="s1">&#39;Chart&#39;</span><span class="p">,</span>
    <span class="na">height</span><span class="p">:</span> <span class="s1">&#39;300px&#39;</span><span class="p">,</span>
    <span class="na">panels</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">title</span><span class="p">:</span> <span class="s1">&#39;Events&#39;</span><span class="p">,</span>
        <span class="na">type</span><span class="p">:</span> <span class="s1">&#39;graphite&#39;</span><span class="p">,</span>
        <span class="na">span</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
        <span class="na">fill</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="na">linewidth</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="na">targets</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s1">&#39;target&#39;</span><span class="err">:</span> <span class="s2">&quot;randomWalk(&#39;&quot;</span> <span class="o">+</span> <span class="nx">seriesName</span> <span class="o">+</span> <span class="s2">&quot;&#39;)&quot;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="s1">&#39;target&#39;</span><span class="err">:</span> <span class="s2">&quot;randomWalk(&#39;random walk2&#39;)&quot;</span>
          <span class="p">}</span>
        <span class="p">],</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">});</span>

<span class="p">}</span>
</pre></div></div></section><div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls"><div class="slides"></div><h3 class="title"></h3><a class="prev">‹</a><a class="next">›</a><a class="close">×</a><a class="play-pause"></a><ol class="indicator"></ol></div><footer><section class="newsletter"><div class="row"><h3 class="text-center">Get notified of new releases!</h3></div><div class="row"><div class="large-6 columns push-3"><form action="http://grafana.us8.list-manage.com/subscribe/post?u=2aeb5711db2aececc990be536&amp;id=5585d37ecc" class="validate" id="mc-embedded-subscribe-form" method="post" name="mc-embedded-subscribe-form" target="_blank"><div class="row collapse"><div class="small-10 columns"><input class="email" id="mce-EMAIL" name="EMAIL" placeholder="email address" type="email" value="" /></div><div class="small-2 columns"><input class="button postfix" id="mc-embedded-subscribe" name="subscribe" type="submit" value="Subscribe" /></div></div></form></div></div></section><div class="row text-center"><ul class="footer-social"><li><i class="fa fa-github"></i><a href="http://twitter.com/grafana">issue tracker</a> on Github</li><li><i class="fa fa-comment"></i><a href="http://twitter.com/grafana">#grafana</a> on freenode</li><li><i class="fa fa-twitter"></i><a href="http://twitter.com/grafana">@grafana</a> on Twitter</li><li><i class="fa fa-envelope"></i><a href="mailto:torkel@grafana.org">email</a></li></ul></div><div class="row copyright text-center">&copy; 2013 Torkel Ödegaard &amp; Coding Instinct AB<iframe allowtransparency="true" class="github-btn" frameborder="false" height="20" scrolling="0" src="http://ghbtns.com/github-btn.html?user=torkelo&amp;repo=grafana&amp;type=watch&amp;count=true" title="Star on GitHub" width="100"></iframe><iframe allowtransparency="true" class="github-btn" frameborder="false" height="20" scrolling="0" src="http://ghbtns.com/github-btn.html?user=torkelo&amp;repo=grafana&amp;type=fork&amp;count=true" title="Fork on GitHub" width="80"></iframe></div></footer><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-47280256-1', 'grafana.org');
ga('send', 'pageview');</script></body></html>