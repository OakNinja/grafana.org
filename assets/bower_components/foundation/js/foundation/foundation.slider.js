!function(t,e){"use strict";Foundation.libs.slider={name:"slider",version:"5.4.7",settings:{start:0,end:100,step:1,initial:null,display_selector:"",vertical:!1,on_change:function(){}},cache:{},init:function(t,e,n){Foundation.inherit(this,"throttle"),this.bindings(e,n),this.reflow()},events:function(){var n=this;t(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+n.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(e){n.cache.active||(e.preventDefault(),n.set_active_slider(t(e.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(r){if(n.cache.active)if(r.preventDefault(),t.data(n.cache.active[0],"settings").vertical){var i=0;r.pageY||(i=e.scrollY),n.calculate_position(n.cache.active,(r.pageY||r.originalEvent.clientY||r.originalEvent.touches[0].clientY||r.currentPoint.y)+i)}else n.calculate_position(n.cache.active,r.pageX||r.originalEvent.clientX||r.originalEvent.touches[0].clientX||r.currentPoint.x)}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){n.remove_active_slider()}).on("change.fndtn.slider",function(){n.settings.on_change()}),n.S(e).on("resize.fndtn.slider",n.throttle(function(){n.reflow()},300))},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(e,n){var r=this,i=t.data(e[0],"settings"),o=(t.data(e[0],"handle_l"),t.data(e[0],"handle_o"),t.data(e[0],"bar_l")),a=t.data(e[0],"bar_o");requestAnimationFrame(function(){var t;t=Foundation.rtl&&!i.vertical?r.limit_to((a+o-n)/o,0,1):r.limit_to((n-a)/o,0,1),t=i.vertical?1-t:t;var s=r.normalized_value(t,i.start,i.end,i.step);r.set_ui(e,s)})},set_ui:function(e,n){var r=t.data(e[0],"settings"),i=t.data(e[0],"handle_l"),o=t.data(e[0],"bar_l"),a=this.normalized_percentage(n,r.start,r.end),s=a*(o-i)-1,l=100*a;Foundation.rtl&&!r.vertical&&(s=-s),s=r.vertical?-s+o-i+1:s,this.set_translate(e,s,r.vertical),r.vertical?e.siblings(".range-slider-active-segment").css("height",l+"%"):e.siblings(".range-slider-active-segment").css("width",l+"%"),e.parent().attr(this.attr_name(),n).trigger("change").trigger("change.fndtn.slider"),e.parent().children("input[type=hidden]").val(n),e[0].hasAttribute("aria-valuemin")||e.attr({"aria-valuemin":r.start,"aria-valuemax":r.end}),e.attr("aria-valuenow",n),""!=r.display_selector&&t(r.display_selector).each(function(){this.hasOwnProperty("value")?t(this).val(n):t(this).text(n)})},normalized_percentage:function(t,e,n){return Math.min(1,(t-e)/(n-e))},normalized_value:function(t,e,n,r){var i=n-e,o=t*i,a=(o-o%r)/r,s=o%r,l=s>=.5*r?r:0;return a*r+l+e},set_translate:function(e,n,r){r?t(e).css("-webkit-transform","translateY("+n+"px)").css("-moz-transform","translateY("+n+"px)").css("-ms-transform","translateY("+n+"px)").css("-o-transform","translateY("+n+"px)").css("transform","translateY("+n+"px)"):t(e).css("-webkit-transform","translateX("+n+"px)").css("-moz-transform","translateX("+n+"px)").css("-ms-transform","translateX("+n+"px)").css("-o-transform","translateX("+n+"px)").css("transform","translateX("+n+"px)")},limit_to:function(t,e,n){return Math.min(Math.max(t,e),n)},initialize_settings:function(e){var n=t.extend({},this.settings,this.data_options(t(e).parent()));n.vertical?(t.data(e,"bar_o",t(e).parent().offset().top),t.data(e,"bar_l",t(e).parent().outerHeight()),t.data(e,"handle_o",t(e).offset().top),t.data(e,"handle_l",t(e).outerHeight())):(t.data(e,"bar_o",t(e).parent().offset().left),t.data(e,"bar_l",t(e).parent().outerWidth()),t.data(e,"handle_o",t(e).offset().left),t.data(e,"handle_l",t(e).outerWidth())),t.data(e,"bar",t(e).parent()),t.data(e,"settings",n)},set_initial_position:function(e){var n=t.data(e.children(".range-slider-handle")[0],"settings"),r=n.initial?n.initial:Math.floor(.5*(n.end-n.start)/n.step)*n.step+n.start,i=e.children(".range-slider-handle");this.set_ui(i,r)},set_value:function(e){var n=this;t("["+n.attr_name()+"]",this.scope).each(function(){t(this).attr(n.attr_name(),e)}),t(this.scope).attr(n.attr_name())&&t(this.scope).attr(n.attr_name(),e),n.reflow()},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var n=t(this).children(".range-slider-handle")[0],r=t(this).attr(e.attr_name());e.initialize_settings(n),r?e.set_ui(t(n),parseFloat(r)):e.set_initial_position(t(this))})}}}(jQuery,window,window.document);