!function(e,t){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.4.7",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,opened:function(){},closed:function(){}},init:function(e,t,n){Foundation.inherit(this,"throttle"),this.bindings(t,n)},events:function(){var n=this,r=n.S;r(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(t){var i=r(this).data(n.attr_name(!0)+"-init")||n.settings;(!i.is_hover||Modernizr.touch)&&(t.preventDefault(),n.toggle(e(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(e){var t,i,o=r(this);clearTimeout(n.timeout),o.data(n.data_attr())?(t=r("#"+o.data(n.data_attr())),i=o):(t=o,i=r("["+n.attr_name()+"='"+t.attr("id")+"']"));var a=i.data(n.attr_name(!0)+"-init")||n.settings;r(e.target).data(n.data_attr())&&a.is_hover&&n.closeall.call(n),a.is_hover&&n.open.apply(n,[t,i])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var e=r(this);n.timeout=setTimeout(function(){if(e.data(n.data_attr())){var t=e.data(n.data_attr(!0)+"-init")||n.settings;t.is_hover&&n.close.call(n,r("#"+e.data(n.data_attr())))}else{var i=r("["+n.attr_name()+'="'+r(this).attr("id")+'"]'),t=i.data(n.attr_name(!0)+"-init")||n.settings;t.is_hover&&n.close.call(n,e)}}.bind(this),150)}).on("click.fndtn.dropdown",function(t){var i=r(t.target).closest("["+n.attr_name()+"-content]");if(!(r(t.target).closest("["+n.attr_name()+"]").length>0))return!r(t.target).data("revealId")&&i.length>0&&(r(t.target).is("["+n.attr_name()+"-content]")||e.contains(i.first()[0],t.target))?(t.stopPropagation(),void 0):(n.close.call(n,r("["+n.attr_name()+"-content]")),void 0)}).on("opened.fndtn.dropdown","["+n.attr_name()+"-content]",function(){n.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+n.attr_name()+"-content]",function(){n.settings.closed.call(this)}),r(t).off(".dropdown").on("resize.fndtn.dropdown",n.throttle(function(){n.resize.call(n)},50)),this.resize()},close:function(t){var n=this;t.each(function(){var r=e("["+n.attr_name()+"="+t[0].id+"]")||e("aria-controls="+t[0].id+"]");r.attr("aria-expanded","false"),n.S(this).hasClass(n.settings.active_class)&&(n.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(n.settings.active_class).prev("["+n.attr_name()+"]").removeClass(n.settings.active_class).removeData("target"),n.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[t]))})},closeall:function(){var t=this;e.each(t.S("["+this.attr_name()+"-content]"),function(){t.close.call(t,t.S(this))})},open:function(e,t){this.css(e.addClass(this.settings.active_class),t),e.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),e.data("target",t.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[e,t]),e.attr("aria-hidden","false"),t.attr("aria-expanded","true"),e.focus()},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(e){if(!e.hasClass(this.settings.disabled_class)){var t=this.S("#"+e.data(this.data_attr()));0!==t.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(t)),t.hasClass(this.settings.active_class)?(this.close.call(this,t),t.data("target")!==e.get(0)&&this.open.call(this,t,e)):this.open.call(this,t,e))}},resize:function(){var e=this.S("["+this.attr_name()+"-content].open"),t=this.S("["+this.attr_name()+"='"+e.attr("id")+"']");e.length&&t.length&&this.css(e,t)},css:function(e,t){var n=Math.max((t.width()-e.width())/2,8),r=t.data(this.attr_name(!0)+"-init")||this.settings;if(this.clear_idx(),this.small()){var i=this.dirs.bottom.call(e,t,r);e.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:i.top}),e.css(Foundation.rtl?"right":"left",n)}else this.style(e,t,r);return e},style:function(t,n,r){var i=e.extend({position:"absolute"},this.dirs[r.align].call(t,n,r));t.attr("style","").css(i)},dirs:{_base:function(e){var t=this.offsetParent(),n=t.offset(),r=e.offset();return r.top-=n.top,r.left-=n.left,r},top:function(e,t){var n=Foundation.libs.dropdown,r=n.dirs._base.call(this,e);return this.addClass("drop-top"),(e.outerWidth()<this.outerWidth()||n.small()||this.hasClass(t.mega_menu))&&n.adjust_pip(this,e,t,r),Foundation.rtl?{left:r.left-this.outerWidth()+e.outerWidth(),top:r.top-this.outerHeight()}:{left:r.left,top:r.top-this.outerHeight()}},bottom:function(e,t){var n=Foundation.libs.dropdown,r=n.dirs._base.call(this,e);return(e.outerWidth()<this.outerWidth()||n.small()||this.hasClass(t.mega_menu))&&n.adjust_pip(this,e,t,r),n.rtl?{left:r.left-this.outerWidth()+e.outerWidth(),top:r.top+e.outerHeight()}:{left:r.left,top:r.top+e.outerHeight()}},left:function(e){var t=Foundation.libs.dropdown.dirs._base.call(this,e);return this.addClass("drop-left"),{left:t.left-this.outerWidth(),top:t.top}},right:function(e){var t=Foundation.libs.dropdown.dirs._base.call(this,e);return this.addClass("drop-right"),{left:t.left+e.outerWidth(),top:t.top}}},adjust_pip:function(e,t,n,r){var i=Foundation.stylesheet,o=8;e.hasClass(n.mega_class)?o=r.left+t.outerWidth()/2-8:this.small()&&(o+=r.left-8),this.rule_idx=i.cssRules.length;var a=".f-dropdown.open:before",s=".f-dropdown.open:after",u="left: "+o+"px;",l="left: "+(o-1)+"px;";i.insertRule?(i.insertRule([a,"{",u,"}"].join(" "),this.rule_idx),i.insertRule([s,"{",l,"}"].join(" "),this.rule_idx+1)):(i.addRule(a,u,this.rule_idx),i.addRule(s,l,this.rule_idx+1))},clear_idx:function(){var e=Foundation.stylesheet;"undefined"!=typeof this.rule_idx&&(e.deleteRule(this.rule_idx),e.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(t).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document);