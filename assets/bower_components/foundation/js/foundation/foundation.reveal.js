!function(t,s,e,i){"use strict";function n(t){var s=/fade/i.test(t),e=/pop/i.test(t);return{animate:s||e,pop:e,fade:s}}Foundation.libs.reveal={name:"reveal",version:"5.4.7",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(s,e,i){t.extend(!0,this.settings,e,i),this.bindings(e,i)},events:function(){var t=this,s=t.S;return s(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(e){if(e.preventDefault(),!t.locked){var i=s(this),n=i.data(t.data_attr("reveal-ajax"));if(t.locked=!0,"undefined"==typeof n)t.open.call(t,i);else{var o=n===!0?i.attr("href"):n;t.open.call(t,i,{url:o})}}}),s(e).on("click.fndtn.reveal",this.close_targets(),function(e){if(e.preventDefault(),!t.locked){var i=s("["+t.attr_name()+"].open").data(t.attr_name(!0)+"-init")||t.settings,n=s(e.target)[0]===s("."+i.bg_class)[0];if(n){if(!i.close_on_background_click)return;e.stopPropagation()}t.locked=!0,t.close.call(t,n?s("["+t.attr_name()+"].open"):s(this).closest("["+t.attr_name()+"]"))}}),s("["+t.attr_name()+"]",this.scope).length>0?s(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):s(this.scope).on("open.fndtn.reveal","["+t.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+t.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.close_video),!0},key_up_on:function(){var t=this;return t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(s){var e=t.S("["+t.attr_name()+"].open"),i=e.data(t.attr_name(!0)+"-init")||t.settings;i&&27===s.which&&i.close_on_esc&&!t.locked&&t.close.call(t,e)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(e,i){var n,o=this;e?"undefined"!=typeof e.selector?n=o.S("#"+e.data(o.data_attr("reveal-id"))).first():(n=o.S(this.scope),i=e):n=o.S(this.scope);var a=n.data(o.attr_name(!0)+"-init");if(a=a||this.settings,n.hasClass("open")&&e.attr("data-reveal-id")==n.attr("id"))return o.close(n);if(!n.hasClass("open")){var r=o.S("["+o.attr_name()+"].open");if("undefined"==typeof n.data("css-top")&&n.data("css-top",parseInt(n.css("top"),10)).data("offset",this.cache_offset(n)),this.key_up_on(n),n.trigger("open").trigger("open.fndtn.reveal"),r.length<1&&this.toggle_bg(n,!0),"string"==typeof i&&(i={url:i}),"undefined"!=typeof i&&i.url){var d="undefined"!=typeof i.success?i.success:null;t.extend(i,{success:function(s,e,i){t.isFunction(d)&&d(s,e,i),n.html(s),o.S(n).foundation("section","reflow"),o.S(n).children().foundation(),r.length>0&&o.hide(r,a.css.close),o.show(n,a.css.open)}}),t.ajax(i)}else r.length>0&&this.hide(r,a.css.close),this.show(n,a.css.open)}o.S(s).trigger("resize")},close:function(t){var t=t&&t.length?t:this.S(this.scope),s=this.S("["+this.attr_name()+"].open"),e=t.data(this.attr_name(!0)+"-init")||this.settings;s.length>0&&(this.locked=!0,this.key_up_off(t),t.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(t,!1),this.hide(s,e.css.close,e))},close_targets:function(){var t="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?t+", ."+this.settings.bg_class:t},toggle_bg:function(s,e){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=t("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var n=this.settings.bg.filter(":visible").length>0;e!=n&&((e==i?n:!e)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(e,i){if(i){var o=e.data(this.attr_name(!0)+"-init")||this.settings,a=o.root_element;if(0===e.parent(a).length){var r=e.wrap('<div style="display: none;" />').parent();e.on("closed.fndtn.reveal.wrapped",function(){e.detach().appendTo(r),e.unwrap().unbind("closed.fndtn.reveal.wrapped")}),e.detach().appendTo(a)}var d=n(o.animation);if(d.animate||(this.locked=!1),d.pop){i.top=t(s).scrollTop()-e.data("offset")+"px";var h={top:t(s).scrollTop()+e.data("css-top")+"px",opacity:1};return setTimeout(function(){return e.css(i).animate(h,o.animation_speed,"linear",function(){this.locked=!1,e.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),o.animation_speed/2)}if(d.fade){i.top=t(s).scrollTop()+e.data("css-top")+"px";var h={opacity:1};return setTimeout(function(){return e.css(i).animate(h,o.animation_speed,"linear",function(){this.locked=!1,e.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),o.animation_speed/2)}return e.css(i).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var o=this.settings;return n(o.animation).fade?e.fadeIn(o.animation_speed/2):(this.locked=!1,e.show())},hide:function(e,i){if(i){var o=e.data(this.attr_name(!0)+"-init");o=o||this.settings;var a=n(o.animation);if(a.animate||(this.locked=!1),a.pop){var r={top:-t(s).scrollTop()-e.data("offset")+"px",opacity:0};return setTimeout(function(){return e.animate(r,o.animation_speed,"linear",function(){this.locked=!1,e.css(i).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),o.animation_speed/2)}if(a.fade){var r={opacity:0};return setTimeout(function(){return e.animate(r,o.animation_speed,"linear",function(){this.locked=!1,e.css(i).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),o.animation_speed/2)}return e.hide().css(i).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var o=this.settings;return n(o.animation).fade?e.fadeOut(o.animation_speed/2):e.hide()},close_video:function(s){var e=t(".flex-video",s.target),i=t("iframe",e);i.length>0&&(i.attr("data-src",i[0].src),i.attr("src",i.attr("src")),e.hide())},open_video:function(s){var e=t(".flex-video",s.target),n=e.find("iframe");if(n.length>0){var o=n.attr("data-src");if("string"==typeof o)n[0].src=n.attr("data-src");else{var a=n[0].src;n[0].src=i,n[0].src=a}e.show()}},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},cache_offset:function(t){var s=t.show().height()+parseInt(t.css("top"),10);return t.hide(),s},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document);