define(["./core","./var/rnotwhite","./core/access","./data/var/data_priv","./data/var/data_user"],function(t,e,n,i,s){function a(e,n,i){var a;if(void 0===i&&1===e.nodeType)if(a="data-"+n.replace(r,"-$1").toLowerCase(),i=e.getAttribute(a),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:o.test(i)?t.parseJSON(i):i}catch(l){}s.set(e,n,i)}else i=void 0;return i}var o=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,r=/([A-Z])/g;return t.extend({hasData:function(t){return s.hasData(t)||i.hasData(t)},data:function(t,e,n){return s.access(t,e,n)},removeData:function(t,e){s.remove(t,e)},_data:function(t,e,n){return i.access(t,e,n)},_removeData:function(t,e){i.remove(t,e)}}),t.fn.extend({data:function(e,o){var r,l,c,u=this[0],d=u&&u.attributes;if(void 0===e){if(this.length&&(c=s.get(u),1===u.nodeType&&!i.get(u,"hasDataAttrs"))){for(r=d.length;r--;)l=d[r].name,0===l.indexOf("data-")&&(l=t.camelCase(l.slice(5)),a(u,l,c[l]));i.set(u,"hasDataAttrs",!0)}return c}return"object"==typeof e?this.each(function(){s.set(this,e)}):n(this,function(n){var i,o=t.camelCase(e);if(u&&void 0===n){if(i=s.get(u,e),void 0!==i)return i;if(i=s.get(u,o),void 0!==i)return i;if(i=a(u,o,void 0),void 0!==i)return i}else this.each(function(){var t=s.get(this,o);s.set(this,o,n),-1!==e.indexOf("-")&&void 0!==t&&s.set(this,e,n)})},null,o,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){s.remove(this,t)})}}),t});