define(["./core","./var/rnotwhite","./core/access","./data/var/data_priv","./data/var/data_user"],function(e,t,n,r,i){function a(t,n,r){var a;if(void 0===r&&1===t.nodeType)if(a="data-"+n.replace(s,"-$1").toLowerCase(),r=t.getAttribute(a),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:o.test(r)?e.parseJSON(r):r}catch(u){}i.set(t,n,r)}else r=void 0;return r}var o=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,s=/([A-Z])/g;return e.extend({hasData:function(e){return i.hasData(e)||r.hasData(e)},data:function(e,t,n){return i.access(e,t,n)},removeData:function(e,t){i.remove(e,t)},_data:function(e,t,n){return r.access(e,t,n)},_removeData:function(e,t){r.remove(e,t)}}),e.fn.extend({data:function(t,o){var s,u,c,f=this[0],l=f&&f.attributes;if(void 0===t){if(this.length&&(c=i.get(f),1===f.nodeType&&!r.get(f,"hasDataAttrs"))){for(s=l.length;s--;)l[s]&&(u=l[s].name,0===u.indexOf("data-")&&(u=e.camelCase(u.slice(5)),a(f,u,c[u])));r.set(f,"hasDataAttrs",!0)}return c}return"object"==typeof t?this.each(function(){i.set(this,t)}):n(this,function(n){var r,o=e.camelCase(t);if(f&&void 0===n){if(r=i.get(f,t),void 0!==r)return r;if(r=i.get(f,o),void 0!==r)return r;if(r=a(f,o,void 0),void 0!==r)return r}else this.each(function(){var e=i.get(this,o);i.set(this,o,n),-1!==t.indexOf("-")&&void 0!==e&&i.set(this,t,n)})},null,o,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){i.remove(this,e)})}}),e});