define(["./core","./var/concat","./var/push","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./data/var/data_priv","./data/var/data_user","./core/init","./data/accepts","./traversing","./selector","./event"],function(e,t,n,r,o,i,a,s){function l(t,n){return e.nodeName(t,"table")&&e.nodeName(11!==n.nodeType?n:n.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function u(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function c(e){var t=w.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function d(e,t){for(var n=0,r=e.length;r>n;n++)a.set(e[n],"globalEval",!t||a.get(t[n],"globalEval"))}function f(t,n){var r,o,i,l,u,c,d,f;if(1===n.nodeType){if(a.hasData(t)&&(l=a.access(t),u=a.set(n,l),f=l.events)){delete u.handle,u.events={};for(i in f)for(r=0,o=f[i].length;o>r;r++)e.event.add(n,i,f[i][r])}s.hasData(t)&&(c=s.access(t),d=e.extend({},c),s.set(n,d))}}function p(t,n){var r=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return void 0===n||n&&e.nodeName(t,n)?e.merge([t],r):r}function h(e,t){var n=t.nodeName.toLowerCase();"input"===n&&o.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}var m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,g=/<([\w:]+)/,y=/<|&#?\w+;/,v=/<(?:script|style|link)/i,b=/checked\s*(?:[^=]|=\s*.checked.)/i,x=/^$|\/(?:java|ecma)script/i,w=/^true\/(.*)/,T=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,N={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return N.optgroup=N.option,N.tbody=N.tfoot=N.colgroup=N.caption=N.thead,N.th=N.td,e.extend({clone:function(t,n,r){var o,a,s,l,u=t.cloneNode(!0),c=e.contains(t.ownerDocument,t);if(!(i.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||e.isXMLDoc(t)))for(l=p(u),s=p(t),o=0,a=s.length;a>o;o++)h(s[o],l[o]);if(n)if(r)for(s=s||p(t),l=l||p(u),o=0,a=s.length;a>o;o++)f(s[o],l[o]);else f(t,u);return l=p(u,"script"),l.length>0&&d(l,!c&&p(t,"script")),u},buildFragment:function(t,n,r,o){for(var i,a,s,l,u,c,f=n.createDocumentFragment(),h=[],v=0,b=t.length;b>v;v++)if(i=t[v],i||0===i)if("object"===e.type(i))e.merge(h,i.nodeType?[i]:i);else if(y.test(i)){for(a=a||f.appendChild(n.createElement("div")),s=(g.exec(i)||["",""])[1].toLowerCase(),l=N[s]||N._default,a.innerHTML=l[1]+i.replace(m,"<$1></$2>")+l[2],c=l[0];c--;)a=a.lastChild;e.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(n.createTextNode(i));for(f.textContent="",v=0;i=h[v++];)if((!o||-1===e.inArray(i,o))&&(u=e.contains(i.ownerDocument,i),a=p(f.appendChild(i),"script"),u&&d(a),r))for(c=0;i=a[c++];)x.test(i.type||"")&&r.push(i);return f},cleanData:function(t){for(var n,r,o,i,l=e.event.special,u=0;void 0!==(r=t[u]);u++){if(e.acceptData(r)&&(i=r[a.expando],i&&(n=a.cache[i]))){if(n.events)for(o in n.events)l[o]?e.event.remove(r,o):e.removeEvent(r,o,n.handle);a.cache[i]&&delete a.cache[i]}delete s.cache[r[s.expando]]}}}),e.fn.extend({text:function(t){return r(this,function(t){return void 0===t?e.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=l(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=l(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(t,n){for(var r,o=t?e.filter(t,this):this,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||e.cleanData(p(r)),r.parentNode&&(n&&e.contains(r.ownerDocument,r)&&d(p(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var t,n=0;null!=(t=this[n]);n++)1===t.nodeType&&(e.cleanData(p(t,!1)),t.textContent="");return this},clone:function(t,n){return t=null==t?!1:t,n=null==n?t:n,this.map(function(){return e.clone(this,t,n)})},html:function(t){return r(this,function(t){var n=this[0]||{},r=0,o=this.length;if(void 0===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!v.test(t)&&!N[(g.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(m,"<$1></$2>");try{for(;o>r;r++)n=this[r]||{},1===n.nodeType&&(e.cleanData(p(n,!1)),n.innerHTML=t);n=0}catch(i){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(n){t=this.parentNode,e.cleanData(p(this)),t&&t.replaceChild(n,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,r){n=t.apply([],n);var o,s,l,d,f,h,m=0,g=this.length,y=this,v=g-1,w=n[0],N=e.isFunction(w);if(N||g>1&&"string"==typeof w&&!i.checkClone&&b.test(w))return this.each(function(e){var t=y.eq(e);N&&(n[0]=w.call(this,e,t.html())),t.domManip(n,r)});if(g&&(o=e.buildFragment(n,this[0].ownerDocument,!1,this),s=o.firstChild,1===o.childNodes.length&&(o=s),s)){for(l=e.map(p(o,"script"),u),d=l.length;g>m;m++)f=o,m!==v&&(f=e.clone(f,!0,!0),d&&e.merge(l,p(f,"script"))),r.call(this[m],f,m);if(d)for(h=l[l.length-1].ownerDocument,e.map(l,c),m=0;d>m;m++)f=l[m],x.test(f.type||"")&&!a.access(f,"globalEval")&&e.contains(h,f)&&(f.src?e._evalUrl&&e._evalUrl(f.src):e.globalEval(f.textContent.replace(T,"")))}return this}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,r){e.fn[t]=function(t){for(var o,i=[],a=e(t),s=a.length-1,l=0;s>=l;l++)o=l===s?this:this.clone(!0),e(a[l])[r](o),n.apply(i,o.get());return this.pushStack(i)}}),e});