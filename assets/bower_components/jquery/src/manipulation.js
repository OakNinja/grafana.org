define(["./core","./var/concat","./var/push","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./data/var/data_priv","./data/var/data_user","./core/init","./data/accepts","./traversing","./selector","./event"],function(e,t,n,r,i,o,s,a){function c(t,n){return e.nodeName(t,"table")&&e.nodeName(11!==n.nodeType?n:n.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function l(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function u(e){var t=k.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function d(e,t){for(var n=0,r=e.length;r>n;n++)s.set(e[n],"globalEval",!t||s.get(t[n],"globalEval"))}function p(t,n){var r,i,o,c,l,u,d,p;if(1===n.nodeType){if(s.hasData(t)&&(c=s.access(t),l=s.set(n,c),p=c.events)){delete l.handle,l.events={};for(o in p)for(r=0,i=p[o].length;i>r;r++)e.event.add(n,o,p[o][r])}a.hasData(t)&&(u=a.access(t),d=e.extend({},u),a.set(n,d))}}function f(t,n){var r=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return void 0===n||n&&e.nodeName(t,n)?e.merge([t],r):r}function h(e,t){var n=t.nodeName.toLowerCase();"input"===n&&i.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}var v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,g=/<([\w:]+)/,m=/<|&#?\w+;/,y=/<(?:script|style|link)/i,b=/checked\s*(?:[^=]|=\s*.checked.)/i,x=/^$|\/(?:java|ecma)script/i,k=/^true\/(.*)/,T=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,C={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return C.optgroup=C.option,C.tbody=C.tfoot=C.colgroup=C.caption=C.thead,C.th=C.td,e.extend({clone:function(t,n,r){var i,s,a,c,l=t.cloneNode(!0),u=e.contains(t.ownerDocument,t);if(!(o.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||e.isXMLDoc(t)))for(c=f(l),a=f(t),i=0,s=a.length;s>i;i++)h(a[i],c[i]);if(n)if(r)for(a=a||f(t),c=c||f(l),i=0,s=a.length;s>i;i++)p(a[i],c[i]);else p(t,l);return c=f(l,"script"),c.length>0&&d(c,!u&&f(t,"script")),l},buildFragment:function(t,n,r,i){for(var o,s,a,c,l,u,p=n.createDocumentFragment(),h=[],y=0,b=t.length;b>y;y++)if(o=t[y],o||0===o)if("object"===e.type(o))e.merge(h,o.nodeType?[o]:o);else if(m.test(o)){for(s=s||p.appendChild(n.createElement("div")),a=(g.exec(o)||["",""])[1].toLowerCase(),c=C[a]||C._default,s.innerHTML=c[1]+o.replace(v,"<$1></$2>")+c[2],u=c[0];u--;)s=s.lastChild;e.merge(h,s.childNodes),s=p.firstChild,s.textContent=""}else h.push(n.createTextNode(o));for(p.textContent="",y=0;o=h[y++];)if((!i||-1===e.inArray(o,i))&&(l=e.contains(o.ownerDocument,o),s=f(p.appendChild(o),"script"),l&&d(s),r))for(u=0;o=s[u++];)x.test(o.type||"")&&r.push(o);return p},cleanData:function(t){for(var n,r,i,o,c=e.event.special,l=0;void 0!==(r=t[l]);l++){if(e.acceptData(r)&&(o=r[s.expando],o&&(n=s.cache[o]))){if(n.events)for(i in n.events)c[i]?e.event.remove(r,i):e.removeEvent(r,i,n.handle);s.cache[o]&&delete s.cache[o]}delete a.cache[r[a.expando]]}}}),e.fn.extend({text:function(t){return r(this,function(t){return void 0===t?e.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=c(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=c(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(t,n){for(var r,i=t?e.filter(t,this):this,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||e.cleanData(f(r)),r.parentNode&&(n&&e.contains(r.ownerDocument,r)&&d(f(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var t,n=0;null!=(t=this[n]);n++)1===t.nodeType&&(e.cleanData(f(t,!1)),t.textContent="");return this},clone:function(t,n){return t=null==t?!1:t,n=null==n?t:n,this.map(function(){return e.clone(this,t,n)})},html:function(t){return r(this,function(t){var n=this[0]||{},r=0,i=this.length;if(void 0===t&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!y.test(t)&&!C[(g.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(v,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(e.cleanData(f(n,!1)),n.innerHTML=t);n=0}catch(o){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(n){t=this.parentNode,e.cleanData(f(this)),t&&t.replaceChild(n,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,r){n=t.apply([],n);var i,a,c,d,p,h,v=0,g=this.length,m=this,y=g-1,k=n[0],C=e.isFunction(k);if(C||g>1&&"string"==typeof k&&!o.checkClone&&b.test(k))return this.each(function(e){var t=m.eq(e);C&&(n[0]=k.call(this,e,t.html())),t.domManip(n,r)});if(g&&(i=e.buildFragment(n,this[0].ownerDocument,!1,this),a=i.firstChild,1===i.childNodes.length&&(i=a),a)){for(c=e.map(f(i,"script"),l),d=c.length;g>v;v++)p=i,v!==y&&(p=e.clone(p,!0,!0),d&&e.merge(c,f(p,"script"))),r.call(this[v],p,v);if(d)for(h=c[c.length-1].ownerDocument,e.map(c,u),v=0;d>v;v++)p=c[v],x.test(p.type||"")&&!s.access(p,"globalEval")&&e.contains(h,p)&&(p.src?e._evalUrl&&e._evalUrl(p.src):e.globalEval(p.textContent.replace(T,"")))}return this}}),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,r){e.fn[t]=function(t){for(var i,o=[],s=e(t),a=s.length-1,c=0;a>=c;c++)i=c===a?this:this.clone(!0),e(s[c])[r](i),n.apply(o,i.get());return this.pushStack(o)}}),e});