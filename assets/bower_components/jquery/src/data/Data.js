define(["../core","../var/rnotwhite","./accepts"],function(e,t){function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=e.expando+Math.random()}return i.uid=1,i.accepts=e.acceptData,i.prototype={key:function(t){if(!i.accepts(t))return 0;var a={},c=t[this.expando];if(!c){c=i.uid++;try{a[this.expando]={value:c},Object.defineProperties(t,a)}catch(n){a[this.expando]=c,e.extend(t,a)}}return this.cache[c]||(this.cache[c]={}),c},set:function(t,i,a){var c,n=this.key(t),r=this.cache[n];if("string"==typeof i)r[i]=a;else if(e.isEmptyObject(r))e.extend(this.cache[n],i);else for(c in i)r[c]=i[c];return r},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(t,i,a){var c;return void 0===i||i&&"string"==typeof i&&void 0===a?(c=this.get(t,i),void 0!==c?c:this.get(t,e.camelCase(i))):(this.set(t,i,a),void 0!==a?a:i)},remove:function(i,a){var c,n,r,s=this.key(i),o=this.cache[s];if(void 0===a)this.cache[s]={};else{e.isArray(a)?n=a.concat(a.map(e.camelCase)):(r=e.camelCase(a),a in o?n=[a,r]:(n=r,n=n in o?[n]:n.match(t)||[])),c=n.length;for(;c--;)delete o[n[c]]}},hasData:function(t){return!e.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},i});