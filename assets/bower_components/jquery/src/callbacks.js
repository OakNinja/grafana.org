define(["./core","./var/rnotwhite"],function(t,e){function n(n){var r=i[n]={};return t.each(n.match(e)||[],function(t,e){r[e]=!0}),r}var i={};return t.Callbacks=function(e){e="string"==typeof e?i[e]||n(e):t.extend({},e);var r,o,s,a,l,u,c=[],d=!e.once&&[],f=function(t){for(r=e.memory&&t,o=!0,u=a||0,a=0,l=c.length,s=!0;c&&l>u;u++)if(c[u].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}s=!1,c&&(d?d.length&&f(d.shift()):r?c=[]:p.disable())},p={add:function(){if(c){var n=c.length;!function i(n){t.each(n,function(n,r){var o=t.type(r);"function"===o?e.unique&&p.has(r)||c.push(r):r&&r.length&&"string"!==o&&i(r)})}(arguments),s?l=c.length:r&&(a=n,f(r))}return this},remove:function(){return c&&t.each(arguments,function(e,n){for(var i;(i=t.inArray(n,c,i))>-1;)c.splice(i,1),s&&(l>=i&&l--,u>=i&&u--)}),this},has:function(e){return e?t.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],l=0,this},disable:function(){return c=d=r=void 0,this},disabled:function(){return!c},lock:function(){return d=void 0,r||p.disable(),this},locked:function(){return!d},fireWith:function(t,e){return!c||o&&!d||(e=e||[],e=[t,e.slice?e.slice():e],s?d.push(e):f(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},t});