define(["../core","../ajax"],function(r){r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return r.globalEval(t),t}}}),r.ajaxPrefilter("script",function(r){void 0===r.cache&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),r.ajaxTransport("script",function(t){if(t.crossDomain){var e,c;return{send:function(i,a){e=r("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",c=function(r){e.remove(),c=null,r&&a("error"===r.type?404:200,r.type)}),document.head.appendChild(e[0])},abort:function(){c&&c()}}}})});