describe("testProps",function(){var t,e,n,i,r={foo:7},o={_q:[]};before(function(t){i=requirejs.config({context:Math.random().toString().slice(2),baseUrl:"../src",paths:{sinon:"../test/js/lib/sinon",cleanup:"../test/cleanup"}}),define("ModernizrProto",[],function(){return r}),define("Modernizr",function(){return o}),define("package",[],function(){return{}}),i(["cleanup","sinon"],function(i,r){e=i,n=r,t()})}),describe("native detect",function(){var e,r=function(t,e){return e?!0:void 0};beforeEach(function(o){e=n.spy(),r=n.spy(r),define("contains",function(){return e}),define("nativeTestProps",n.spy(function(){return r})),i(["testProps"],function(e){t=e,o()})}),it("returns the value from nativeTestProp if not undefined",function(){expect(t(["fake"],void 0,!0)),expect(r.callCount).to.be(1),expect(e.callCount).to.be(0)}),it("does not return the value from nativeTestProp when undefined",function(){expect(t(["fake"],void 0,!1)),expect(r.callCount).to.be(1),expect(e.callCount).to.not.be(0)}),afterEach(function(){i.undef("mStyle"),i.undef("cssToDOM"),i.undef("contains"),i.undef("testProps"),i.undef("nativeTestProps")})}),describe("nonnative detect",function(){var e,r,o=function(t,e){return t.indexOf(e)>-1},s=function(){};beforeEach(function(a){s=n.spy(s),o=n.spy(o),e=n.spy(),r={},define("nativeTestProps",n.spy(function(){return s})),define("cssToDOM",function(){return e}),define("contains",function(){return o}),define("mStyle",function(){return r}),i(["testProps"],function(e){t=e,a()})}),it("cleans up mStyle changes",function(){expect(t(["fake"],void 0,!0)),expect(o.callCount).to.be(1),expect(r.style).to.equal(void 0),expect(r.modElem).to.equal(void 0)}),it("calls cssToDOM when props have a `-`",function(){expect(t(["fake-detect"],void 0,!0)),expect(e.called).to.be(!0)}),it("returns true for valid prop, and skipValueTest",function(){expect(t(["display"],void 0,!0,!0)).to.be(!0)}),it("returns true for valid prop, and good value",function(){expect(t(["display"],void 0,"block")).to.be(!0)}),it("returns false for valid prop and bad value",function(){expect(t(["display"],void 0,"penguin")).to.be(!1)}),it("returns the prop if a prefixed lookup",function(){expect(t(["display"],"pfx","block")).to.be("display")}),it("returns the prop if a prefixed lookup with skipValueTest",function(){expect(t(["display"],"pfx","block",!0)).to.be("display")}),it("works properly",function(){expect(t(["margin"])).to.equal(!0),expect(t(["happiness"])).to.equal(!1),expect(t(["fontSize"])).to.equal(!0)}),afterEach(function(){i.undef("mStyle"),i.undef("cssToDOM"),i.undef("contains"),i.undef("testProps"),i.undef("ModernizrProto"),i.undef("nativeTestProps")})}),after(function(){e()})});