var root=require("find-parent-dir").sync(__dirname,"package.json"),options=require(root+"lib/options"),expect=require("expect.js"),Joi=require("joi"),schema=Joi.array().items(Joi.object().keys({name:Joi.string(),property:Joi.string()}));describe("cli/options",function(){this.timeout(2e4),it("should return an array of objects in a callback",function(t){options(function(e){var n=schema.validate(e).error;expect(n).to.be(null),t(n)})}),it("should return the array of objects immediately after the first run",function(){var t=schema.validate(options()).error;expect(t).to.be(null)}),it("should return all jsdoc info when the second arg is true",function(){expect(options(null,!0)!==options(null)).to.be(!0),expect(options(null,!0)[0].description).to.not.be(void 0)})});